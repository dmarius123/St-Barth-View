(function(a){a.fn.DOPImageLoader=function(m){var b={Container:"",LoaderURL:"ImageLoader/images/loader.gif",NoImageURL:"ImageLoader/images/no-image.png",LoadingInOrder:true,ImageSize:"fill",ImageDelay:600},i=0,g=this,k=new Array(),j=new Array(),h=new Array(),e=new Array(),d=new Array(),c=0,f={init:function(){i=l.randomString(32);return this.each(function(){if(m){a.extend(b,m)}if(b.Container!=""){g=a(b.Container)}f.getImages()})},getImages:function(){a("img",g).each(function(){var n=a(this);c++;k[c]=n.attr("src");j[c]=n.attr("title");h[c]=n.parent();e[c]=n.parent().width();d[c]=n.parent().height()});f.initImages()},initImages:function(){var n;for(n=1;n<=c;n++){h[n].html("")}for(n=1;n<=c;n++){h[n].html(h[n].html()+'<span class="'+i+"-"+n+'">');a("."+i+"-"+n).css({background:"url("+b.LoaderURL+") no-repeat center center",display:"block",width:e[n],height:d[n]});if(!b.LoadingInOrder){f.loadImage(n)}}if(b.LoadingInOrder){f.loadImage(1)}},loadImage:function(o){var n=new Image();a(n).load(function(){var p=a(this);a("."+i+"-"+o).append(this);a("."+i+"-"+o).css("background","none");p.attr("title",j[o]);if(b.ImageSize=="container"){p.width(a("."+i+"-"+o).width());p.height(a("."+i+"-"+o).height())}else{if(b.ImageSize=="fill"){a("."+i+"-"+o).css("overflow","hidden");l.resizeItem2(a("."+i+"-"+o),p,a("."+i+"-"+o).width(),a("."+i+"-"+o).height(),p.width(),p.height(),"center")}else{if(b.ImageSize=="proportionally"){l.resizeItem(a("."+i+"-"+o),p,a("."+i+"-"+o).width(),a("."+i+"-"+o).height(),p.width(),p.height(),"center")}}}a("."+i+"-"+o).css("opacity",0);a("."+i+"-"+o).stop(true,true).animate({opacity:1},b.ImageDelay);if(b.LoadingInOrder&&o<c){f.loadImage(o+1)}}).error(function(){a("."+i+"-"+o).css({background:"url("+b.NoImageURL+") no-repeat center center",opacity:0});a("."+i+"-"+o).stop(true,true).animate({opacity:1},b.ImageDelay);if(b.LoadingInOrder&&o<c){f.loadImage(o+1)}}).attr("src",k[o])}},l={resizeItem:function(u,p,r,n,o,s,t){var q=0,v=0;if(o<=r&&s<=n){q=o;v=s}else{v=n;q=(o*n)/s;if(q>r){q=r;v=(s*r)/o}}p.width(q);p.height(v);switch(t.toLowerCase()){case"top":l.topItem(u,p,n);break;case"bottom":l.bottomItem(u,p,n);break;case"left":l.leftItem(u,p,r);break;case"right":l.rightItem(u,p,r);break;case"horizontal-center":l.hCenterItem(u,p,r);break;case"vertical-center":l.vCenterItem(u,p,n);break;case"center":l.centerItem(u,p,r,n);break;case"top-left":l.tlItem(u,p,r,n);break;case"top-center":l.tcItem(u,p,r,n);break;case"top-right":l.trItem(u,p,r,n);break;case"middle-left":l.mlItem(u,p,r,n);break;case"middle-right":l.mrItem(u,p,r,n);break;case"bottom-left":l.blItem(u,p,r,n);break;case"bottom-center":l.bcItem(u,p,r,n);break;case"bottom-right":l.brItem(u,p,r,n);break}},resizeItem2:function(u,p,r,n,o,s,t){var q=0,v=0;v=n;q=(o*n)/s;if(q<r){q=r;v=(s*r)/o}p.width(q);p.height(v);switch(t.toLowerCase()){case"top":l.topItem(u,p,n);break;case"bottom":l.bottomItem(u,p,n);break;case"left":l.leftItem(u,p,r);break;case"right":l.rightItem(u,p,r);break;case"horizontal-center":l.hCenterItem(u,p,r);break;case"vertical-center":l.vCenterItem(u,p,n);break;case"center":l.centerItem(u,p,r,n);break;case"top-left":l.tlItem(u,p,r,n);break;case"top-center":l.tcItem(u,p,r,n);break;case"top-right":l.trItem(u,p,r,n);break;case"middle-left":l.mlItem(u,p,r,n);break;case"middle-right":l.mrItem(u,p,r,n);break;case"bottom-left":l.blItem(u,p,r,n);break;case"bottom-center":l.bcItem(u,p,r,n);break;case"bottom-right":l.brItem(u,p,r,n);break}},topItem:function(o,p,n){o.height(n);p.css("margin-top",0)},bottomItem:function(o,p,n){o.height(n);p.css("margin-top",n-p.height())},leftItem:function(o,p,n){o.width(n);p.css("margin-left",0)},rightItem:function(o,p,n){o.width(n);p.css("margin-left",o.width()-p.width())},hCenterItem:function(o,p,n){o.width(n);p.css("margin-left",(n-p.width())/2)},vCenterItem:function(o,p,n){o.height(n);p.css("margin-top",(n-p.height())/2)},centerItem:function(p,q,n,o){l.hCenterItem(p,q,n);l.vCenterItem(p,q,o)},tlItem:function(p,q,n,o){l.topItem(p,q,o);l.leftItem(p,q,n)},tcItem:function(p,q,n,o){l.topItem(p,q,o);l.hCenterItem(p,q,n)},trItem:function(p,q,n,o){l.topItem(p,q,o);l.rightItem(p,q,n)},mlItem:function(p,q,n,o){l.vCenterItem(p,q,o);l.leftItem(p,q,n)},mrItem:function(p,q,n,o){l.vCenterItem(p,q,o);l.rightItem(p,q,n)},blItem:function(p,q,n,o){l.bottomItem(p,q,o);l.leftItem(p,q,n)},bcItem:function(p,q,n,o){l.bottomItem(p,q,o);l.hCenterItem(p,q,n)},brItem:function(p,q,n,o){l.bottomItem(p,q,o);l.rightItem(p,q,n)},randomize:function(n){n.sort(function(){return 0.5-Math.random()});return n},randomString:function(r){var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",q="";for(var o=0;o<r;o++){var n=Math.floor(Math.random()*p.length);q+=p.substring(n,n+1)}return q},isIE8Browser:function(){var o=false,n=navigator.userAgent.toLowerCase();if(n.indexOf("msie 8")!=-1){o=true}return o},isTouchDevice:function(){var n=false,o=navigator.userAgent.toLowerCase();if(o.indexOf("android")!=-1){n=true}if(o.indexOf("blackberry")!=-1){n=true}if(o.indexOf("ipad")!=-1){n=true}if(o.indexOf("iphone")!=-1){n=true}if(o.indexOf("ipod")!=-1){n=true}if(o.indexOf("palm")!=-1){n=true}if(o.indexOf("series60")!=-1){n=true}if(o.indexOf("symbian")!=-1){n=true}if(o.indexOf("windows ce")!=-1){n=true}return n},openLink:function(n,o){if(o.toLowerCase()=="_blank"){window.open(n)}else{window.location=n}}};return f.init.apply(this)}})(jQuery);